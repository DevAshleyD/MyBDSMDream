function pdfembGetPDF(c,a){-1==c.search("/?pdfemb-serveurl=")?a(c,!1):jQuery.ajax({dataType:"arraybuffer",type:"POST",url:c}).done(function(c){pdfemb_rc4ab(pdfemb_trans.k,c);c=new Uint8Array(c);a(c,pdfemb_trans.is_admin)})}function pdfembWantMobile(c,a,d,b){if("on"==a.data("fullScreen"))return!1;c=parseInt(a.data("mobile-width"),10);if(isNaN(c)||0>c)c=500;return d<c}
function pdfembMakeMobile(c,a,d){var b=d.find("div.pdfemb-inner-div");if(a){if(0==b.find(".pdfemb-inner-div-wantmobile").length){a=c("<div></div>",{"class":"pdfemb-inner-div-wantmobile pdfemb-wantmobile"});var h=c("<div></div>",{"class":"pdfemb-wantmobile-fsarea"}),f=c("<div></div>",{"class":"pdfemb-inner-div-wantmobile-fswrap pdfemb-wantmobile"}).append(h.append(document.createTextNode(pdfemb_trans.objectL10n.viewinfullscreen)));pdfembBindFullScreen(c,h,d);b.prepend(a);b.prepend(f);d.find(".pdfemb-toolbar-fixed").hide();
d.find(".pdfemb-toolbar-hover").data("no-hover",!0)}}else b.find(".pdfemb-wantmobile").remove(),d.find(".pdfemb-toolbar-fixed").show(),d.find(".pdfemb-toolbar-hover").data("no-hover",!1)}
function pdfembAddMoreToolbar(c,a,d){if("on"==d.data("download")){var b=c('<button class="pdfemb-download" title="'+pdfemb_trans.objectL10n.download+'"></button>'),h=d.data("pdf-url");h&&(b.on("click",function(a){pdfembPremiumDownload(h,d.data("download-nonce"),d.data("tracking"))}),a.append(b))}b=c('<button class="pdfemb-fs" title="'+pdfemb_trans.objectL10n.fullscreen+'"></button>');"on"==d.data("fullScreen")?(b.addClass("pdfemb-toggled"),b.on("click",function(a){d.closest(".pdfemb-fsp-wrapper").trigger("closePopup");
d.data("fullScreenClosed","true");c(document).off("pdfembMagnify")})):pdfembBindFullScreen(c,b,d);a.append(b);var f=a.find("div.pdfemb-page-area"),e=f.find("span.pdfemb-page-num");f.on("click",function(a){var b=c("<input />",{type:"text","class":"pdfemb-page-num"});b.on("keyup",function(a){13==(a.keyCode?a.keyCode:a.which)&&(a=parseInt(b.val()),!isNaN(a)&&0<a&&d.trigger("pdfembGotopage",a))});b.val(e.text());e.replaceWith(b);f.off("click")})}
function pdfembPremiumDownload(c,a,d){void 0!==a&&""!=a&&(c+="&pdfemb-nonce="+a);setTimeout(function(){window.open(c)},100);"on"==d&&jQuery.post(pdfemb_trans.ajaxurl,{action:"pdfemb_count_download",pdf_url:c},function(a){})}function pdfembMagnifyEvent(c,a){var d=jQuery,b=d(a.originalEvent.gtpelement).closest(".pdfemb-viewer");-1==a.originalEvent.magnification?d.fn.pdfEmbedder.queueRenderPage(b,b.data("pagenum")):d.fn.pdfEmbedder.magnifyZoom(b,a.originalEvent.magnification)}
function pdfembBindFullScreen(c,a,d){a.fullScreenPopup({popup:function(){var a=d.data("pdfDoc"),h=d.data("pagenum"),f=d.data("showIsSecure"),e=d.data("pdf-url"),n=d.data("download"),u=d.data("tracking"),q=d.data("newwindow"),l=d.data("download-nonce"),g=d.data("disablerightclick"),k=c('<div class="pdfemb-viewer"></div>');k.data("pdfDoc",a);k.data("pagenum",h);k.data("showIsSecure",f);k.data("pdf-url",e);k.data("download",n);k.data("tracking",u);k.data("newwindow",q);k.data("disablerightclick",g);
k.data("width","max");k.data("height","auto");k.data("toolbar","bottom");k.data("toolbar-fixed","on");k.data("fullScreen","on");void 0!==l&&k.data("download-nonce",l);k.pdfEmbedder();c(document).on("pdfembMagnify",function(a){pdfembMagnifyEvent(k,a)});return k},close:!1,mainWrapperClass:"pdfemb-fsp-wrapper",contentWrapperClass:"pdfemb-fsp-content",inlineStyles:!1})}
jQuery(document).ready(function(c){c.ajaxTransport("+*",function(a,c,b){if(window.FormData&&(a.dataType&&("blob"==a.dataType||"arraybuffer"==a.dataType)||a.data&&(window.Blob&&a.data instanceof Blob||window.ArrayBuffer&&a.data instanceof ArrayBuffer)))return{send:function(b,c){var e=new XMLHttpRequest,d=a.url||window.location.href,u=a.type||"GET",q=a.dataType||"text",l=a.data||null,g=a.async||!0;e.addEventListener("load",function(){var a={};a[q]=e.response;c(e.status,e.statusText,a,e.getAllResponseHeaders())});
e.open(u,d,g);e.responseType=q;e.send(l)},abort:function(){b.abort()}}})});function pdfemb_rc4ab(c,a){for(var d=[],b=0,h,f=new DataView(a),e=0;256>e;e++)d[e]=e;for(e=0;256>e;e++)b=(b+d[e]+c.charCodeAt(e%c.length))%256,h=d[e],d[e]=d[b],d[b]=h;for(var n=b=e=0;n<a.byteLength;n++)e=(e+1)%256,b=(b+d[e])%256,h=d[e],d[e]=d[b],d[b]=h,input=f.getUint8(n),output=input^d[(d[e]+d[b])%256],f.setUint8(n,output)}
var pdfembAnnotationsLayerBuilder=function(){function c(a){this.pageDiv=a.pageDiv;this.pdfPage=a.pdfPage;this.div=null}c.prototype={setupAnnotations:function(a,c){function b(a,e){a.href="#";a.onclick=function(){e&&jQuery(n).parent().trigger("pdfembGotoHash",{dest:e});return!1};e&&(a.className="internalLink")}function h(a,e){a.href="#";a.onclick=function(){e&&jQuery(n).parent().trigger("pdfembGotoAction",e);return!1};a.className="internalLink"}var f=this.pdfPage,e=this,n=this.pageDiv;f.getAnnotations().then(function(n){a=
a.clone({dontFlip:!0});var q="matrix("+a.transform.join(",")+")",l,g,k,p;if(e.div){k=0;for(p=n.length;k<p;k++)l=n[k],(g=e.div.querySelector('[data-annotation-id="'+l.id+'"]'))&&pdfembCustomStyle.setProp("transform",g,q);e.div.removeAttribute("hidden")}else for(k=0,p=n.length;k<p;k++)if((l=n[k])&&l.hasHtml){g=PDFJS.AnnotationUtils.getHtmlElement(l,f.commonObjs);g.setAttribute("data-annotation-id",l.id);"undefined"!==typeof mozL10n&&mozL10n.translate(g);var m=l.rect,r=f.view,m=PDFJS.Util.normalizeRect([m[0],
r[3]-m[1]+r[1],m[2],r[3]-m[3]+r[1]]);g.style.left=m[0]+"px";g.style.top=m[1]+"px";g.style.position="absolute";pdfembCustomStyle.setProp("transform",g,q);pdfembCustomStyle.setProp("transformOrigin",g,-m[0]+"px "+-m[1]+"px");"Link"===l.subtype&&(m=g.getElementsByTagName("a")[0],l.url?"on"==c&&(m.target="_blank"):m&&(l.action?h(m,l.action):b(m,"dest"in l?l.dest:null)),jQuery(m).on("touchstart",function(a){a.stopPropagation()}));l=document.createElement("div");l.className="pdfembAnnotationLayer";m=e.pageDiv.getElementsByTagName("canvas")[0];
l.style.left=m.style.left;l.style.top=m.style.top;e.pageDiv.appendChild(l);l.appendChild(g)}})},hide:function(){this.div&&this.div.setAttribute("hidden","true")}};return c}();function pdfembPremiumAnnotationsLayerFactory(){}pdfembPremiumAnnotationsLayerFactory.prototype={createAnnotationsLayerBuilder:function(c,a){return new pdfembAnnotationsLayerBuilder({pageDiv:c,pdfPage:a})}};
var pdfembCustomStyle=function(){function c(){}var a=["ms","Moz","Webkit","O"],d={};c.getProp=function(b,c){if(1===arguments.length&&"string"===typeof d[b])return d[b];c=c||document.documentElement;var f=c.style,e,n;if("string"===typeof f[b])return d[b]=b;n=b.charAt(0).toUpperCase()+b.slice(1);for(var u=0,q=a.length;u<q;u++)if(e=a[u]+n,"string"===typeof f[e])return d[b]=e;return d[b]="undefined"};c.setProp=function(a,c,d){a=this.getProp(a);"undefined"!==a&&(c.style[a]=d)};return c}();jQuery(document).ready(function(c){c.fn.pdfEmbedder=function(){this.each(function(a,d){var b=c(d);b.append(c("<div></div>",{"class":"pdfemb-loadingmsg"}).append(document.createTextNode(pdfemb_trans.objectL10n.loading)));"on"==b.data("disablerightclick")&&b.bind("contextmenu",function(a){a.preventDefault()});var h=function(a,e){b.empty().append(c("<div></div>",{"class":"pdfemb-inner-div"}).append(c("<canvas></canvas>",{"class":"pdfemb-the-canvas"})));b.data("pdfDoc",a);var d=b.data("toolbar");"bottom"!=
d&&c.fn.pdfEmbedder.addToolbar(b,!0,"on"==b.data("toolbar-fixed"),e);"top"!=d&&c.fn.pdfEmbedder.addToolbar(b,!1,"on"==b.data("toolbar-fixed"),e);b.on("pdfembGotopage",function(a,e){e>b.data("pdfDoc").numPages||0>=e||b.data("pagenum")==e||(b.data("pagenum",e),c.fn.pdfEmbedder.queueRenderPage(b,e))});b.on("pdfembGotoHash",function(a,e){if(e.dest){dest=e.dest;var d;"string"===typeof dest?(destString=dest,d=b.data("pdfDoc").getDestination(dest)):d=Promise.resolve(dest);d.then(function(a){a instanceof
Array&&!(1>a.length)&&b.data("pdfDoc").getPageIndex(a[0]).then(function(a){a+=1;a>b.data("pdfDoc").numPages||0>=a||b.data("pagenum")==a||(b.data("pagenum",a),c.fn.pdfEmbedder.queueRenderPage(b,a))})})}});b.on("pdfembGotoAction",function(a,e){var d=b.data("pagenum"),f=d;switch(e){case "GoBack":--f;break;case "GoForward":++f;break;case "NextPage":++f;break;case "PrevPage":--f;break;case "LastPage":f=b.data("pdfDoc").numPages;break;case "FirstPage":f=1}f==d||f>b.data("pdfDoc").numPages||0>=f||(b.data("pagenum",
f),c.fn.pdfEmbedder.queueRenderPage(b,f))});b.data("pageCount",a.numPages);(!b.data("pagenum")||1>b.data("pagenum")||b.data("pagenum")>a.numPages)&&b.data("pagenum",1);b.data("showIsSecure",e);b.data("pageNumPending",null);b.data("zoom",100);c.fn.pdfEmbedder.renderPage(b,b.data("pagenum"));b.find("span.pdfemb-page-count").text(a.numPages);d=new pdfembGrabToPan({element:b.find("div.pdfemb-inner-div")[0]});b.data("grabtopan",d);c(window).resize(function(){setTimeout(function(){c.fn.pdfEmbedder.queueRenderPage(b,
b.data("pagenum"))},100)})},f=function(a,e){PDFJS.getDocument(a).then(function(a){h(a,e)},function(a){var e=document.createTextNode(a.message);"UnexpectedResponseException"==a.name&&0==a.status&&(e=c("<span></span>").append(document.createTextNode(pdfemb_trans.objectL10n.domainerror+" ")).append(c('<a href="https://wp-pdf.com/troubleshooting/#unexpected" target="_blank">'+pdfemb_trans.objectL10n.clickhereinfo+"</a>")));b.empty().append(c("<div></div>",{"class":"pdfemb-errormsg"}).append(e))})};if(b.data("pdfDoc"))h(b.data("pdfDoc"),
b.data("showIsSecure"));else{var e=b.attr("data-pdf-url");pdfembGetPDF(e,f)}});return this};c.fn.pdfEmbedder.annotationsLayerFactory="undefined"!=typeof pdfembPremiumAnnotationsLayerFactory?new pdfembPremiumAnnotationsLayerFactory:{createAnnotationsLayerBuilder:function(a,c){return null}};c.fn.pdfEmbedder.checkForResize=function(a){var d=c(window).height(),b=c(window).width(),h=a.data("checked-window-height"),f=a.data("checked-window-width");if(!h||!f)a.data("checked-window-height",d),a.data("checked-window-width",
b);else if(h!=d||f!=b)c.fn.pdfEmbedder.queueRenderPage(a,a.data("pagenum")),a.data("checked-window-height",d),a.data("checked-window-width",b);"true"!=a.data("fullScreenClosed")&&setTimeout(function(){c.fn.pdfEmbedder.checkForResize(a)},1E3)};c.fn.pdfEmbedder.renderPage=function(a,d,b){a.data("pageRendering",!0);a.data("pdfDoc").getPage(d).then(function(h){var f=a.find(".pdfemb-the-canvas"),e=null,n=null,u=null,q=null;b&&(u=f.width(),q=f.height(),n=f[0].getContext("2d"),e=n.getImageData(0,0,u,q));
var l,g=h.getViewport(1),k=g.width,p=g.height;if(0>=k||0>=p)a.empty().append(document.createTextNode(pdfemb_trans.objectL10n.widthheightinvalid));else{var m=a.parent().width(),g=k,r=p;if("max"==a.data("width"))g=m;else if("auto"==a.data("width"))g=k;else if(g=parseInt(a.data("width"),10),isNaN(g)||0>=g)g=m;0>=g&&(g=k);g>m&&0<m&&(g=m);l=g/k;var r=p*l,w=a.find("div.pdfemb-toolbar-fixed"),v=(m=pdfembWantMobile(c,a,g,t))?0:w.length,t=parseInt(a.data("height"),10);if(isNaN(t)||0>=t||t>r)t="auto"==a.data("height")?
a.parent().height()-v*w.height():r;var g=Math.floor(g),r=Math.floor(r),x=100,k=g,p=r,y=0,z=0;m||(x=a.data("zoom"),k=g*x/100,p=r*x/100,k<g&&(y=(g-k)/2),p<t&&(z=(t-p)/2));var A=h.getViewport(l*x/100);g!=a.width()&&a.width(g);a.height()!=t&&a.height(t+v*w.height());l=a.find("div.pdfemb-inner-div");var x=l[0].scrollLeft,B=l[0].scrollTop;l.width(g);l.height(t);w=w.filter(".pdfemb-toolbar-top");0<v&&l.css("top",w.height());f[0].width=k;f[0].height=p;f.css("width",k);f.css("height",p);f.css("left",y).css("top",
z);(k>g||p>r||p>t)&&!m?(t=a.data("fromZoom"),v=a.data("toZoom"),0<t&&0<v&&(y=B+r/2,l.scrollLeft((x+g/2)*v/t-g/2),l.scrollTop(y*v/t-r/2)),a.data("grabtopan").activate()):("on"==a.data("fullScreen")?a.data("grabtopan").activate():a.data("grabtopan").deactivate(),a.find("div.pdfemb-inner-div").scrollLeft(0).scrollTop(0));a.data("fromZoom",0).data("toZoom",0);pdfembMakeMobile(c,m,a);b?(a.data("pagenum",d),a.data("pageRendering",!1),f=c("<canvas>").attr("width",e.width).attr("height",e.height)[0],f.getContext("2d").putImageData(e,
0,0),n.scale(k/u,p/q),n.drawImage(f,0,0)):(e={canvasContext:f[0].getContext("2d"),viewport:A},h.render(e).promise.then(function(){a.data("pagenum",d);a.data("pageRendering",!1);var e=a.find("div.pdfemb-toolbar .pdfemb-page-num");e.is("span")?e.text(d):e.val(d);d<a.data("pageCount")?a.find(".pdfemb-next").removeAttr("disabled").removeClass("pdfemb-btndisabled"):a.find(".pdfemb-next").attr("disabled","disabled").addClass("pdfemb-btndisabled");1<d?a.find(".pdfemb-prev").removeAttr("disabled").removeClass("pdfemb-btndisabled"):
a.find(".pdfemb-prev").attr("disabled","disabled").addClass("pdfemb-btndisabled");e=c.fn.pdfEmbedder.annotationsLayerFactory.createAnnotationsLayerBuilder(a.find("div.pdfemb-inner-div")[0],h);null!=e&&(a.find("div.pdfembAnnotationLayer").remove(),e.setupAnnotations(A,a.data("newwindow")));null!==a.data("pageNumPending")&&(c.fn.pdfEmbedder.renderPage(a,a.data("pageNumPending")),a.data("pageNumPending",null))}))}})};c.fn.pdfEmbedder.queueRenderPage=function(a,d,b){a.data("pageRendering")?a.data("pageNumPending",
d):c.fn.pdfEmbedder.renderPage(a,d,b)};c.fn.pdfEmbedder.goFullScreen=function(a){a=c('<div class="pdfemb-fs-window"></div>');c(document.body).append(a)};c.fn.pdfEmbedder.changeZoom=function(a,d){var b=a.data("zoom"),h=b+d;a.data("zoom",h);a.find("span.pdfemb-zoom").text(h+"%");c.fn.pdfEmbedder.queueRenderPage(a,a.data("pagenum"));a.data("fromZoom",b).data("toZoom",h)};c.fn.pdfEmbedder.magnifyZoom=function(a,d){var b=a.data("zoom"),h=Math.floor(b*d);20>h&&(h=20);500<h&&(h=500);a.data("zoom",h);a.find("span.pdfemb-zoom").text(h+
"%");c.fn.pdfEmbedder.queueRenderPage(a,a.data("pagenum"),!0);a.data("fromZoom",b).data("toZoom",h)};c.fn.pdfEmbedder.addToolbar=function(a,d,b,h){var f=c("<div></div>",{"class":"pdfemb-toolbar pdfemb-toolbar"+(b?"-fixed":"-hover")+" "+(d?" pdfemb-toolbar-top":"pdfemb-toolbar-bottom")}),e=c('<button class="pdfemb-prev" title="'+pdfemb_trans.objectL10n.prev+'"></button>');f.append(e);var n=c('<button class="pdfemb-next" title="'+pdfemb_trans.objectL10n.next+'"></button>');f.append(n);f.append(c('<div class="pdfemb-page-area">'+
pdfemb_trans.objectL10n.page+' <span class="pdfemb-page-num">0</span> / <span class="pdfemb-page-count"></span></div>'));var u=c('<button class="pdfemb-zoomout" title="'+pdfemb_trans.objectL10n.zoomout+'"></button>');f.append(u);var q=c('<button class="pdfemb-zoomin" title="'+pdfemb_trans.objectL10n.zoomin+'"></button>');f.append(q);f.append(c("<div>"+pdfemb_trans.objectL10n.zoom+' <span class="pdfemb-zoom">100%</span></div>'));h&&f.append(c("<div>"+pdfemb_trans.objectL10n.secure+"</div>"));d?a.prepend(f):
a.append(f);e.on("click",function(e){1>=a.data("pagenum")||(a.data("pagenum",a.data("pagenum")-1),c.fn.pdfEmbedder.queueRenderPage(a,a.data("pagenum")))});n.on("click",function(e){a.data("pagenum")>=a.data("pdfDoc").numPages||(a.data("pagenum",a.data("pagenum")+1),c.fn.pdfEmbedder.queueRenderPage(a,a.data("pagenum")))});q.on("click",function(e){500<=a.data("zoom")||c.fn.pdfEmbedder.changeZoom(a,10)});u.on("click",function(e){20>=a.data("zoom")||c.fn.pdfEmbedder.changeZoom(a,-10)});pdfembAddMoreToolbar(c,
f,a);b||(a.on("mouseenter",function(e){e=a.find("div.pdfemb-toolbar-hover");!0!==e.data("no-hover")&&e.show()}),a.on("mouseleave",function(e){a.find("div.pdfemb-toolbar-hover").hide()}));pdfemb_trans.poweredby&&f.append(c("<div></div>",{"class":"pdfemb-poweredby"}).append(c('<a href="https://wp-pdf.com/?utm_source=Poweredby&utm_medium=freemium&utm_campaign=Freemium" target="_blank">wp-pdf.com</a>')))};PDFJS.workerSrc=pdfemb_trans.worker_src;PDFJS.cMapUrl=pdfemb_trans.cmap_url;PDFJS.cMapPacked=!0;
c(".pdfemb-viewer").pdfEmbedder()});var pdfembGrabToPan=function(){function c(a){this.element=a.element;this.document=a.element.ownerDocument;"function"===typeof a.ignoreTarget&&(this.ignoreTarget=a.ignoreTarget);this.onActiveChanged=a.onActiveChanged;this.activate=this.activate.bind(this);this.deactivate=this.deactivate.bind(this);this.toggle=this.toggle.bind(this);this._onmousedown=this._onmousedown.bind(this);this._onmousemove=this._onmousemove.bind(this);this._ontouchstart=this._ontouchstart.bind(this);this._ontouchmove=this._ontouchmove.bind(this);
this._ontouchend=this._ontouchend.bind(this);this._onmousewheel=this._onmousewheel.bind(this);this._endPan=this._endPan.bind(this);(this.overlay=document.createElement("div")).className="grab-to-pan-grabbing"}c.prototype={CSS_CLASS_GRAB:"grab-to-pan-grab",activate:function(){if(!this.active&&(this.active=!0,this.element.addEventListener("mousedown",this._onmousedown,!0),this.element.addEventListener("DOMMouseScroll",this._onmousewheel),this.element.addEventListener("mousewheel",this._onmousewheel),
this.element.addEventListener("touchstart",this._ontouchstart),this.element.classList.add(this.CSS_CLASS_GRAB),this.onActiveChanged))this.onActiveChanged(!0)},deactivate:function(){if(this.active&&(this.active=!1,this.element.removeEventListener("mousedown",this._onmousedown,!0),this._endPan(),this.element.classList.remove(this.CSS_CLASS_GRAB),this.onActiveChanged))this.onActiveChanged(!1)},toggle:function(){this.active?this.deactivate():this.activate()},ignoreTarget:function(e){return e[a]("a[href], a[href] *, input, textarea, button, button *, select, option")},
_onmousedown:function(a){if(0===a.button&&!this.ignoreTarget(a.target)){this.scrollLeftStart=this.element.scrollLeft;this.scrollTopStart=this.element.scrollTop;this.clientXStart=a.clientX;this.clientYStart=a.clientY;this.document.addEventListener("mousemove",this._onmousemove,!0);this.document.addEventListener("mouseup",this._endPan,!0);this.element.addEventListener("scroll",this._endPan,!0);a.preventDefault();a.stopPropagation();this.document.documentElement.classList.add(this.CSS_CLASS_GRABBING);
var b=document.activeElement;b&&!b.contains(a.target)&&b.blur()}},_onmousemove:function(a){this.element.removeEventListener("scroll",this._endPan,!0);var b;b="buttons"in a&&d?!(a.buttons|1):h||f?0===a.which:void 0;b?this._endPan():(b=a.clientX-this.clientXStart,this.element.scrollTop=this.scrollTopStart-(a.clientY-this.clientYStart),this.element.scrollLeft=this.scrollLeftStart-b,this.overlay.parentNode||document.body.appendChild(this.overlay))},_ontouchstart:function(a){this.scrollLeftStart=this.element.scrollLeft;
this.scrollTopStart=this.element.scrollTop;this.clientXStart=a.touches[0].clientX;this.clientYStart=a.touches[0].clientY;this.distStart=this._calcTouchDistance(a);this.document.addEventListener("touchmove",this._ontouchmove);this.document.addEventListener("touchend",this._ontouchend);a.preventDefault();a.stopPropagation();this.document.documentElement.classList.add(this.CSS_CLASS_GRABBING);var b=document.activeElement;b&&!b.contains(a.target)&&b.blur()},_calcTouchDistance:function(a){var b=NaN;a.touches&&
2<=a.touches.length&&(b=Math.sqrt(Math.pow(a.touches[0].screenX-a.touches[1].screenX,2)+Math.pow(a.touches[0].screenY-a.touches[1].screenY,2)));return b},_ontouchmove:function(a){var b=a.touches[0].clientX-this.clientXStart,c=a.touches[0].clientY-this.clientYStart;1==a.touches.length&&(this.element.scrollTop=this.scrollTopStart-c,this.element.scrollLeft=this.scrollLeftStart-b);this.overlay.parentNode||document.body.appendChild(this.overlay);b=this._calcTouchDistance(a);a.preventDefault();a.stopPropagation();
isNaN(this.distStart)?this.distStart=b:!isNaN(b)&&0<this.distStart&&0<b&&(a=(50+b)/(50+this.distStart),1.5<a&&(a=1.5),.75>a&&(a=.75),c=document.createEvent("Events"),c.initEvent("pdfembMagnify",!0,!0),c.magnification=a,c.gtpelement=this.element,document.dispatchEvent(c),this.distStart=b)},_onmousewheel:function(a){this.element.removeEventListener("scroll",this._endPan,!0);a="DOMMouseScroll"===a.type?-a.detail:a.wheelDelta/40;this.scrollLeftStart=this.element.scrollLeft;this.scrollTopStart=this.element.scrollTop;
this.element.scrollTop=this.scrollTopStart-40*a;this.overlay.parentNode||document.body.appendChild(this.overlay)},_ontouchend:function(){this._endPan();var a=document.createEvent("Events");a.initEvent("pdfembMagnify",!0,!0);a.magnification=-1;a.gtpelement=this.element;document.dispatchEvent(a)},_endPan:function(){this.element.removeEventListener("scroll",this._endPan,!0);this.document.removeEventListener("mousemove",this._onmousemove,!0);this.document.removeEventListener("mouseup",this._endPan,!0);
this.document.removeEventListener("touchmove",this._ontouchmove,!1);this.document.removeEventListener("touchend",this._ontouchend,!1);this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)}};var a;["webkitM","mozM","msM","oM","m"].some(function(b){b+="atches";b in document.documentElement&&(a=b);b+="Selector";b in document.documentElement&&(a=b);return a});var d=!document.documentMode||9<document.documentMode,b=window.chrome,h=b&&(b.webstore||b.app),f=/Apple/.test(navigator.vendor)&&
/Version\/([6-9]\d*|[1-5]\d+)/.test(navigator.userAgent);return c}();(function(){var c=function(a,c){return function(){return a.apply(c,arguments)}};(function(a){var d,b;b={bgColor:"#fff",inlineStyles:!0,lockDocumentScroll:!0,mainWrapperClass:"fsp-wrapper",contentWrapperClass:"fsp-content",closePopupClass:"fsp-close",close:!0,animationSpeed:200};d=function(){function d(f,e){this.element=f;this.closePopup=c(this.closePopup,this);this.init=c(this.init,this);this.options=a.extend({},b,e);this._defaults=b;this._name="fullScreenPopup";this.element=a(this.element);this.body=
a("body");this.element.on("click",this.init)}d.prototype.init=function(a){a.preventDefault();this.getTarget();this.getTargetSizes();this.createWrappers();this.wrapTarget();this.options.lockDocumentScroll&&this.lockDocumentScroll();this.render();return this.bindEvents()};d.prototype.getTarget=function(){this.target=this.options.popup?this.options.popup():a(this.element.attr("href")||this.element.data("popup"));return this.targetParent=this.target.parent()};d.prototype.getTargetSizes=function(){return this.targetSizes=
{width:this.target.width(),height:this.target.height()}};d.prototype.wrapTarget=function(){this.target=this.detachFromDom(this.target);return this.target.appendTo(this.contentWrapper)};d.prototype.render=function(){this.target.show();this.attachToDom(this.mainWrapper,"body");this.popupCentered();return this.mainWrapper.fadeIn(this.options.animationSpeed)};d.prototype.detachFromDom=function(a){return a.detach()};d.prototype.attachToDom=function(a,b){return a.appendTo(b)};d.prototype.bindEvents=function(){if(this.close)this.close.on("click",
this.closePopup);var b=this.closePopup;a(document).on("keyup.pdfembfullscreen",function(a){27==(a.keyCode?a.keyCode:a.which)&&b(a)});return this.mainWrapper.on("closePopup",this.closePopup)};d.prototype.createWrappers=function(){this.mainWrapper=a("<div/>",{"class":""+this.options.mainWrapperClass,style:this.options.inlineStyles?"background: "+this.options.bgColor+"; position: fixed; top: 0; left: 0; right: 0; bottom: 0; z-index: 9999; overflow-y: auto; overflow-x: hidden; display: none":void 0});
this.contentWrapper=a("<div/>",{"class":""+this.options.contentWrapperClass,style:"width: 100%; height: 100%;  position: relative; top: 0px; left: 0px;"}).appendTo(this.mainWrapper);this.options.close&&(this.close=a("<a/>",{href:"#",html:"&times;","class":""+this.options.closePopupClass,style:this.options.inlineStyles?"position: absolute; right: 2em; top: 2em;":void 0}).appendTo(this.mainWrapper));return this};d.prototype.popupCentered=function(){};d.prototype.closePopup=function(b){var c;b.preventDefault();
c=this;a(document).unbind("keyup.pdfembfullscreen");return this.mainWrapper.fadeOut(this.options.animationSpeed,function(){c.options.lockDocumentScroll&&c.unlockDocumentScroll();c.target=c.detachFromDom(c.target);c.target.hide();c.attachToDom(c.target,c.targetParent);return c.deleteWrappers()})};d.prototype.deleteWrappers=function(){return this.mainWrapper.remove()};d.prototype.lockDocumentScroll=function(){return this.body.css({overflow:"hidden"})};d.prototype.unlockDocumentScroll=function(){return this.body.css({overflow:"visible"})};
return d}();return a.fn.fullScreenPopup=function(b){return this.each(function(){if(!a.data(this,"plugin_fullScreenPopup"))return a.data(this,"plugin_fullScreenPopup",new d(this,b))})}})(jQuery)}).call(this);
